<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en"><head>
    <title>monkeyWrapperServer </title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="dc.created" content="2020-03-25">
    <link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
    <link rel="stylesheet" type="text/css" href="dokka-javadoc-stylesheet.css" title="Style">
    <link rel="stylesheet" type="text/css" href="jquery/jquery-ui.css" title="Style">
    <script type="text/javascript" src="jquery/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="jquery/jquery-migrate-3.4.0.min.js"></script>
    <script type="text/javascript" src="jquery/jquery-ui.js"></script>

    <script type="text/javascript" src="search.js"></script>
    <script async type="text/javascript" src="module-search-index.js"></script>
    <script async type="text/javascript" src="package-search-index.js"></script>
    <script async type="text/javascript" src="type-search-index.js"></script>
    <script async type="text/javascript" src="member-search-index.js"></script>
    <script async type="text/javascript" src="tag-search-index.js"></script>
</head><body>
<script type="text/javascript">
var pathtoroot = "";
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript><header role="banner">
    <nav role="navigation">
        <div class="fixedNav">
            <!-- ========= START OF TOP NAVBAR ======= -->
            <div class="topNav"><a id="navbar.top">
                <!--   -->
            </a>
                <div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a>
                </div>
                <a id="navbar.top.firstrow">
                    <!--   -->
                </a>
                <ul class="navList" title="Navigation">
    <li class="navBarCell1Rev">Overview</li>

    <li>Package</li>

    <li>Class</li>

    <li><a href="overview-tree.html">Tree</a></li>

    <li><a href="deprecated.html">Deprecated</a></li>
    <li><a href="index-files/index-1.html">Index</a></li>
    <li>Help</li>
</ul></div>
            <div class="subNav">
<ul class="navList" id="allclasses_navbar_top" style="display: block;">
    <li><a href="allclasses.html">All&nbsp;Classes</a></li>
</ul>

<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" class="ui-autocomplete-input" autocomplete="off" placeholder="Search">
<input type="reset" id="reset" value="reset">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div><!-- ========= END OF TOP NAVBAR ========= -->
        </div>
        <div class="navPadding">&nbsp;</div>
        <script type="text/javascript"><!--
        $('.navPadding').css('padding-top', $('.fixedNav').css("height"));
        //-->
        </script>
    </nav>
</header>
<main role="main">
    <div class="header">
        <h1 class="title">monkeyWrapperServer </h1>
    </div>
        <div class="header">
            <div class="subtitle">
                <div class="block"><p>This monkeySDK is an Android platform and toolset that lets you can build a Android app to access Monkey Connect.</p><p>Programing Language: Java Plotform : Android</p>
                  <p>See <a href=https://ood-tsen.github.io/MonkeySDK/README.html>README</a></p></div>
            </div>
            <p>See: <a href="#overview_description">Description</a></p>
        </div>
    <div class="contentContainer">
      <h1 id="module-monkeysdk">Module MonkeySDK</h1>
      <p>MonkeySDK is an Android platform and toolset that lets you can build a Android app to access Vive Connect.
      MonkeySDK offers an AIDL interface to let Vive Connect to bind. And in this interface, your application may receive photos and text (via voice) from devices.</p>
      <h2 id="1-how-to-install-monkeysdk-in-your-android-project">1. How to install MonkeySDK in your Android project</h2>
      <p>  In your Android Project.</p>
      <ol>
      <li><p>Add &#39;com.mm.monkey.sdk:monkey_server:xxx&#39; in app/build.gradle</p>
      <pre><code><span class="hljs-selector-tag">api</span>("<span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.mm</span><span class="hljs-selector-class">.monkey</span><span class="hljs-selector-class">.sdk</span><span class="hljs-selector-pseudo">:monkey_server</span><span class="hljs-selector-pseudo">:0.0.1-SNAPSHOT")</span>
      </code></pre></li>
      <li><p>Add queries block in AndroidManefest.xml to let Vice Connect to discover.</p>
      <pre><code><span class="hljs-tag">&lt;<span class="hljs-name">manifest</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">queries</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.example.company.server"</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">intent</span>&gt;</span>
             <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.mm.monkey.sdk.client.action.QUERY_ART"</span> /&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">intent</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">queries</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">manifest</span>&gt;</span>
      </code></pre><p> You may replace &#39;com.mm.monkey.sdk.client.action.QUERY_ART&#39; by following category.</p>
      <ul>
      <li>&quot;com.mm.monkey.sdk.client.action.TRANSLATION&quot;</li>
      <li>&quot;com.mm.monkey.sdk.client.action.LIVE_STREAMING&quot;</li>
      <li>&quot;com.mm.monkey.sdk.client.action.FOOD_DELIVERY&quot;</li>
      <li>&quot;com.mm.monkey.sdk.client.action.TAXI_SERVICE&quot;</li>
      <li>&quot;com.mm.monkey.sdk.client.action.COOKING&quot;</li>
      <li>&quot;com.mm.monkey.sdk.client.action.QUERY_ART&quot;</li>
      <li>&quot;com.mm.monkey.sdk.client.action.OTHER&quot;</li>
      </ul>
      </li>
      <li><p>To implement a Android Service (e.q. MonkeyService) which implement com.mm.monkey.server.services.MonkeyServiceProxy</p>
      <pre><code><span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">".services.MonkeyService"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.mm.monkey.sdk.client.action.QUERY_ART"</span> /&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span>
      </code></pre></li>
      </ol>
      <h3 id="2-how-to-implement-monkeyserviceproxy-">2. How to implement MonkeyServiceProxy ?</h3>
      <ol>
      <li><p>After implement MonkeyServiceProxy, you may receive photo and text via voice by following functions.</p>
      <ol>
      <li><p>processMessage(String json) is for text message.</p>
      </li>
      <li><p>processMessageAndImage(String json, MyPayload payload) is for photo and text message.</p>
      </li>
      </ol>
      </li>
      </ol>
      <ol>
      <li>You can use MonkeyCommandRequest to parse the json.<pre><code>MonkeyCommandRequest <span class="hljs-keyword">cmd</span><span class="bash"> = MonkeyCommandRequest.fromJson(json);</span>
      </code></pre></li>
      <li>After verify the text and photo, you can use MonkeyCommandResult to create a response.<pre><code><span class="hljs-attribute">String resultCmd</span> = MonkeyCommandResult.success(<span class="hljs-string">"This is a flower."</span>, Locale.ENGLISH);
      </code></pre></li>
      <li>And use notityToCaller send it back to Vice Connect.<pre><code>notityToCaller(<span class="hljs-name">json</span>,<span class="hljs-string">"processMessageAndImage"</span>,resultCmd)<span class="hljs-comment">;</span>
      </code></pre><h3 id="3-how-to-send-command-and-get-more-device-information-from-monkeysdk-">3. How to send command and get more device information from MonkeySDK ?</h3>
      </li>
      </ol>
      <p>MonkeySDK offers MonkeyServiceViewModel to hold device information and let 3rd Application to trigger command and receive Event from  device.</p>
      <p>For example, to show a new photo.</p>
      <pre><code><span class="hljs-keyword">model</span>.lastPhotoName().observeForever(photoName -&gt;{
          <span class="hljs-built-in">Log</span>.i(TAG,<span class="hljs-string">"observeForever lastPhotoName "</span> + photoName);

      });
      </code></pre>

    <div class="overviewSummary">

<table>
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>

    <tr class="altColor"><th class="colFirst" scope="row"><a href=com/mm/monkey/server/services/package-summary.html>com.mm.monkey.server.services</a></th><td class="colLast">This SDK can build a <a href=https://developer.android.com/develop/background-work/services.html>Android Service</a> by extend <a href=https://ood-tsen.github.io/MonkeySDK/com/mm/monkey/server/services/MonkeyServiceProxy.html>MonkeyServiceProxy</a><a href=../../../../../README.html>README.html</a> Programing language: Java Platform: Android</td></tr>

    <tr class="rowColor"><th class="colFirst" scope="row"><a href=com/mm/monkey/server/services/data/package-summary.html>com.mm.monkey.server.services.data</a></th><td class="colLast">Provides the data classes necessary for com.mm.monkey.server.services.</td></tr>

    <tr class="altColor"><th class="colFirst" scope="row"><a href=com/mm/monkey/server/services/enums/package-summary.html>com.mm.monkey.server.services.enums</a></th><td class="colLast">Provides the enums classes necessary for com.mm.monkey.server.services.</td></tr>

    <tr class="rowColor"><th class="colFirst" scope="row"><a href=com/mm/monkey/server/services/util/package-summary.html>com.mm.monkey.server.services.util</a></th><td class="colLast">Provides the utility classes necessary for com.mm.monkey.server.services.</td></tr>
</tbody>
</table>

            </div>

    </div>
</main>
<footer role="contentinfo">
    <nav role="navigation">
        <!-- ======= START OF BOTTOM NAVBAR ====== -->
        <div class="bottomNav"><a id="navbar.bottom">
            <!--   -->
        </a>
            <div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a>
            </div>
            <a id="navbar.bottom.firstrow">
                <!--   -->
            </a>
            <ul class="navList" title="Navigation">
    <li class="navBarCell1Rev">Overview</li>

    <li>Package</li>

    <li>Class</li>

    <li><a href="overview-tree.html">Tree</a></li>

    <li><a href="deprecated.html">Deprecated</a></li>
    <li><a href="index-files/index-1.html">Index</a></li>
    <li>Help</li>
</ul></div>
        <a id="skip.navbar.bottom">
            <!--   -->
        </a>
        <div class="subNav">
<ul class="navList" id="allclasses_navbar_top" style="display: block;">
    <li><a href="allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div><!-- ======== END OF BOTTOM NAVBAR ======= -->
    </nav>
</footer><ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content" id="ui-id-1" tabindex="0"
    style="display: none;"></ul>
<span role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"></span>
</body>
</html>
